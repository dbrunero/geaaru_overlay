#
simple:
  defaults:
    cat: dev-python
    python_compat: python3+
  generator: pypi-simple-1
  packages:
    - priority:
        # Twisted require version <2.0
        version: 1.3.0
    - m2r2:
        rdepend: '<=dev-python/mistune-0.8.4'
        pydeps:
          - mistune
          - docutils
    - oauthlib:
        pydeps:
          py:3:runtime:
            - pyjwt
            - blinker
            - cryptography
    - pyserial:
        pydeps:
          py:3:build:
            - setuptools
    - incremental:
        desc: "A small library that versions your Python projects."
        pydeps:
          py:3:build:
            - setuptools
    - constantly:
        pydeps:
          py:3:build:
            - setuptools
            - versioneer
    # Keep temporary. Package archived
    - traceback2:
        pydeps:
          py:3:build:
            - setuptools
            - pbr
          py:3:runtime:
            - linecache2
    # Keep temporary. Package archived
    - linecache2:
        pydeps:
          py:3:build:
            - setuptools
            - pbr
    # TODO: check if it's possible add
    #       PYTHON_REQ_USE="threads(+)"
    #       without a template file
    - lockfile
    - aiobotocore:
        license: Apache-2.0
        pydeps:
          - aiohttp
          - aioitertools
          - botocore
          - wrapt
    - aioboto3:
        license: Apache-2.0
        pydeps:
          - aiobotocore





hatchling_builds:
  defaults:
    cat: dev-python
    python_compat: python3+
    du_pep517: hatchling
    pydeps:
      py:3:build:
        - hatch-vcs
  generator: pypi-simple-1
  packages:
    - platformdirs:
        desc: "A small Python package for determining appropriate platform-specific dirs"
    - filelock
    - virtualenv:
        pydeps:
          py:3:runtime:
            - distlib
            - filelock
            - platformdirs
    - twisted:
        iuse: conch crypt serial http2
        depend: |
          http2? (
            <=dev-python/h2-5.0.0[${PYTHON_USEDEP}]
            >=dev-python/h2-4.0.0[${PYTHON_USEDEP}]
            >=dev-python/priority-1.1.0[${PYTHON_USEDEP}]
            <dev-python/priority-2.0[${PYTHON_USEDEP}]
          )
        pydeps:
          py:3:build:
            - hatch-vcs
            - incremental
            - hatch-fancy-pypi-readme
          py:3:all:
            - zope-interface
            - constantly
            - automat
            - hyperlink
            - attrs
            - typing-extensions
          use:crypt:
            - pyopenssl
            - service_identity
            - idna
          use:serial:
            - pyserial
          use:conch:
            - cryptography
            - appdirs
            - bcrypt

setuptools_builds:
  defaults:
    cat: dev-python
    python_compat: python3+
    du_pep517: setuptools
  generator: pypi-simple-1
  packages:
    - appdirs:
        # Override description generates with "
        desc: "A small Python module for determining appropriate platform-specific dirs"
    - distlib
    - mistune:
        version: 0.8.4
    - python-mimeparse
    - hyperlink:
        pydeps:
          py:3:runtime:
            - idna
    - versioneer:
        pydeps:
          py:all:
            - tomli

    - jsonpatch:
        pydeps:
          py:3:runtime:
            - jsonpointer

    - httplib2:
        rdepend: app-misc/ca-certificates
        pydeps:
          py:3:runtime:
            - pyparsing
        patches:
          - httplib2-0.12.1-use-system-cacerts.patch

    - aiohttp-socks

    - aiodns:
        pydeps:
          py:all:
            - pycares >= 3
          py:all:build:
            - setuptools
    - aiosignal:
        pydeps:
          - frozenlist
    - aiohttp:
        desc: Async http client/server framework (asyncio)
        pydeps:
          py:all:
            - async_timeout > 3
            - attrs > 17.3.0
            - multidict > 4.5.0
            - yarl > 1
            - typing-extensions
            - aiosignal
            - aiodns
            - charset_normalizer
            - frozenlist
          py:all:build:
            - setuptools
            - cython
        body: |
          src_prepare() {
            default
            rm ${S}/examples/__init__.py

            # Drop runtime dep to asynctest used for tests
            sed -e '/^\tasynctest.*/d' -i ${S}/setup.cfg
          }
    - frozenlist

    - kafka-python:
        pydeps:
          py:all:build:
            - setuptools
    - aiokafka:
        pydeps:
          py:all:
            - kafka-python
          py:all:build:
            - kafka-python
            - setuptools

    - pynacl:
        pydeps:
          py:all:
            - cffi
          py:all:build:
            - cffi

    - netaddr:
        pydeps:
          py:all:build:
            - setuptools

